from selenium.webdriver.firefox.options import Options
from selenium.webdriver.common.keys import Keys
from selenium import webdriver
import time

def gmail_finder(email):
    options = Options()
    options.binary_location = r'C:\Program Files\Mozilla Firefox\firefox.exe'
    browser = webdriver.Firefox(executable_path=r'geckodriver.exe', options=options)
    browser.get('https://accounts.google.com/signin/v2/identifier?service=mail&flowName=GlifWebSignIn&flowEntry=ServiceLogin')

    time.sleep(1)

    input_xpath = '/html/body/div[1]/div[1]/div[2]/div/div[2]/div/div/div[2]/div/div[1]/div/form/span/section/div/div/div[1]/div/div[1]/div/div[1]/input'
    input_field = browser.find_element_by_xpath(input_xpath)
    input_field.send_keys(email)
    input_field.send_keys(Keys.ENTER)

    time.sleep(1)

    if browser.find_elements_by_xpath('/html/body/div[1]/div[1]/div[2]/div/div[2]/div/div/div[2]/div/div[1]/div/form/span/section/div/div/div[1]/div/div[2]/div[2]/div'):
        browser.close()
        return {'Gmail' : 'False'}
    else:
        browser.close()
        return {'Gmail' : 'True'}
